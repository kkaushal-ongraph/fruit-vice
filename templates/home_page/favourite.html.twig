{% extends 'base.html.twig' %}

{% block title %}Favourite Fruits{% endblock %}

{% block body %}
		<div
			class="d-flex" id="wrapper">
			<!-- Sidebar-->
			<div class="border-end bg-white" id="sidebar-wrapper">
				<div class="sidebar-heading border-bottom bg-light">Fruity Vice Api</div>
				<div class="list-group list-group-flush">
					<a class="list-group-item list-group-item-action list-group-item-light p-3" href="/fruits">Fruit List</a>
					<a class="list-group-item list-group-item-action list-group-item-light p-3" href="/favourite">favourite Fruits</a>
				</div>
			</div>
			<!-- Page content wrapper-->
			<div
				id="page-content-wrapper">
				<!-- Top navigation-->
				<nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
					<div class="container-fluid">
						<button class="btn btn-primary" id="sidebarToggle">Toggle Menu</button>
						<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
							<span class="navbar-toggler-icon"></span>
						</button>
						<div class="collapse navbar-collapse" id="navbarSupportedContent">
							<ul class="navbar-nav ms-auto mt-2 mt-lg-0">
								<li class="nav-item active"></li>
							</ul>
						</div>
					</div>
				</nav>
				<!-- Page content-->
				<div class="container-fluid">
					<table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
						<thead>
							<tr>
								<th class="th-sm">Sr.no
								</th>
								<th class="th-sm">Id
								</th>
								<th class="th-sm">User_id
								</th>
								<th class="th-sm">Fruit_id
								</th>
								<th class="th-sm">Total_nutritions
								</th>
								<th class="th-sm">Action
								</th>
							</tr>
						</thead>
						<tbody>
							{% for item in items %}
								<tr>
									<td>{{ loop.index }}</td>
									<td>{{ item.getId() }}</td>
									<td>{{ item.getUserId() }}</td>
									<td>{{ item.getFruitId() }}</td>
									{% for nutri in nutritions %}
										{% if item.getFruitId() == nutri.fruit_id %}
											<td>{{nutri.total_nutritions}}</td>
											{# <td>{{ (item.getFruitId() == nutri.fruit_id) ? nutri.total_nutritions : '' }}</td> #}
										{% endif %}
									{% endfor %}
									<td>
										<button value="{{ item.getId()}}" class="btn starblue">
											<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewbox="0 0 16 16">
												<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
											</svg>
										</button>
									</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
{% endblock %}
